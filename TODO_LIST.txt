Spawn the producer and consumer threads.

Have a controller thread.

Make this run on GNU/Linux.
